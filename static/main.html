<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="stylesheet" href="css/context.css">
	<link rel="stylesheet" href="css/style.css">
	<!-- <link rel="stylesheet" href="css/tree.css"> -->
	<link rel="stylesheet" href="css/timeseries.css">
	<link rel="stylesheet" href="css/tooltip.css">
			<!-- Bootstrap core CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/simple-sidebar.css" rel="stylesheet">
	<link href="css/contextmenu/d3-context-menu.css" rel="stylesheet">
	<link href="css/tablestyle.css" rel="stylesheet">
	
			<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
	<title>Twitter Navigator</title>

	<!--external resources-->
	<!-- jquery ui-->
	<script type="text/javascript" src="lib/jQuery/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="lib/jquery-ui-1.11.4/jquery-ui.js"></script>
	<link rel="stylesheet" href="lib/jquery-ui-1.11.4/jquery-ui.css">
	<script type="text/javascript" src="lib/numeric-1.2.6.min.js"></script>
	<script type="text/javascript" src="lib/d3/d3.min.js" charset="utf-8"></script>
	<!-- <script src="https://d3js.org/d3.v4.min.js"></script> -->
	
	<script type="text/javascript" src="lib/underscore.js"></script>

	<script type="text/javascript" src="lib/contextmenu/d3-context-menu.js"></script>
	<script type="text/javascript" src="lib/xDate.js"></script>
	<script type="text/javascript" src="lib/legend.js"></script>
	<script type="text/javascript" src="lib/bootstrap/bootstrap.js"></script>

	<script type="text/javascript" src="lib/colorbrewer/colorbrewer.js"></script>	

	<script type="text/javascript" src="lib/random.js"></script>

	<!--d3 tooltip-->
	<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>

	<!-- spatial clustering--><!-- 
	<script type="text/javascript" src="lib/node_modules/density-clustering/lib/DBSCAN.js"></script>
	<script type="text/javascript" src="src/Model/SpatialClustering.js"></script> -->

	<!-- spatial analysis toolkit: TURF.JS -->
	<!--<script type="text/javascript" src="http://api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js"></script> -->
	
	<!--download image-->
	<script src="http://files.codepedia.info/uploads/iScripts/html2canvas.js"></script>

	<!-- user study thing-->
	<script type="text/javascript" src="src/UserStudy/polys.js"></script>
	<script type="text/javascript" src="src/UserStudy/UserStudyController.js"></script>
	<script type="text/javascript" src="src/UserStudy/UserStudyController2.js"></script>


	<script type="text/javascript">
		Array.prototype.max = function() {
		  return Math.max.apply(null, this);
		};

		Array.prototype.min = function() {
		  return Math.min.apply(null, this);
		};

		d3.selection.prototype.moveToFront = function(){
			return this.each(function(){
			TweetsHeatmapManageris.parentNode.appendChild(this);
			});
		};
		d3.selection.prototype.moveToBack = function(){
			return this.each(function() {
			    var firstChild = this.parentNode.firstChild;
			    if (firstChild) { 
			        this.parentNode.insertBefore(this, firstChild);
			    } 
			}); 
		};

		jQuery.fn.multiselect = function(callback) {
		    $(this).each(function() {
		        var checkboxes = $(this).find("input:checkbox");
		        checkboxes.each(function() {
		            var checkbox = $(this);
		            // Highlight pre-selected checkboxes
		            if (checkbox.prop("checked"))
		                checkbox.parent().addClass("multiselect-on");
		 
		            // Highlight checkboxes that the user selects
		            checkbox.click(function() {
		                if (checkbox.prop("checked"))
		                    checkbox.parent().addClass("multiselect-on");
		                else
		                    checkbox.parent().removeClass("multiselect-on");
		                callback();
		            });
		        });
		    });
		};

	</script>

	<script type="text/javascript" src="lib/geometry/myPolygonLib.js"></script>
	<script type="text/javascript" src="lib/geometry/polygonIntersection.js"></script>
	<script type="text/javascript" src="lib/geometry/enlargePolygon.js"></script>

	<script type="text/javascript" src="stoplist.js"></script>
	<script type="text/javascript" src="src/Model/nlp.js"></script>
	
	<!-- spatial clustering-->
	<script type="text/javascript" src="src/Model/HullLayout.js"></script>
	<script type="text/javascript" src="src/Model/PolyK.js"></script>

	<script type="text/javascript" src="src/Vis/colorFuncCollection.js"></script>
	<script type="text/javascript" src="src/Vis/miscFuncCollection.js"></script>


	<script type="text/javascript" src="src/Model/Obj.js"></script>
	<!--extend d3-->
	<script type="text/javascript" src="constant.js"></script>

	<script type="text/javascript" src="lib/OpenLayers-2.13.1/OpenLayers.js"></script>

    <script type="text/javascript" src="lib/taffydb-master/taffy.js"></script>

	<script type="text/javascript" src="src/Vis/OlMapView.js"></script>
	<script type="text/javascript" src="src/Vis/OlMapViewHelper.js"></script>

	<script type="text/javascript" src="src/Vis/TweetsHeatmapManager.js"></script>
	<script type="text/javascript" src="src/Vis/PolygonLayerManager.js"></script>

	<script type="text/javascript" src="src/Vis/contour/TweetsContentlensManager.js"></script>

	<script type="text/javascript" src="src/Vis/Canvas_manager.js"></script>

	<script type="text/javascript" src="src/Model/CTreeComponent/VisComponent.js"></script>
	<script type="text/javascript" src="src/Model/CTreeComponent/StatComponent.js"></script>

	<script type="text/javascript" src="src/Model/CTreeNode.js"></script>
	<script type="text/javascript" src="src/Model/DataCenter.js"></script>

	<script type="text/javascript" src="src/Vis/contour/simplify.js"></script>
	<script type="text/javascript" src="src/Vis/contour/ContourVis.js"></script>

	<script type="text/javascript" src="lib/heatmap/heatmap.js"></script>
	<script type="text/javascript" src="lib/heatmap/heatmap-openlayers-renderer.js"></script>

	<script type="text/javascript" src="src/Model/EMTerms.js"></script>

	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js"></script>
	<script type="text/javascript" src="src/Controller/app_controller.js"></script>
	<script type="text/javascript" src="src/Controller/autoresize_directive.js"></script>

	<script type="text/javascript" src="src/Model/TweetsDataManager.js"></script>

	<script type="text/javascript" src="src/Vis/Tree/EMTree.js"></script>

	<script type="text/javascript" src="src/Vis/Time-series/multi-timeseries.js"></script>
	<script type="text/javascript" src="src/Vis/Time-series/timeseriesmanager.js"></script>

	<script type="text/javascript" src="src/Vis/table/EMTable.js"></script>
	<script type="text/javascript" src="src/Vis/DataViewer.js"></script>

	<!-- Concave Hull -->
	<script type="text/javascript" src="lib/hull-master/dist/hull.js"></script>

	<script type="text/javascript" src="lib/require.js"></script>

	<!--scale tree-->
	<script type="text/javascript" src="src/Vis/ScaleTree/ScaleTreeCanvas.js"></script>
	<script type="text/javascript" src="src/Vis/ScaleTree/FDTreeCanvas.js"></script>
	<script type="text/javascript" src="src/Vis/ScaleTree/TreeCanvas.js"></script>
	<!--cluster signature-->
	<script type="text/javascript" src="src/Vis/ClusterSignature/ClusterSignature.js"></script>


	<style>

	text {
		
		font-family: "Trebuchet MS", Helvetica, sans-serif;
		cursor: pointer;
	}

	h4 {
		
		font-family: "Trebuchet MS", Helvetica, sans-serif;
		font-size: 18px;

	}
	select {
		
		font-family: "Trebuchet MS", Helvetica, sans-serif;

	}
	input {
		
		font-family: "Trebuchet MS", Helvetica, sans-serif;

	}
	h5 {
		
		font-family: "Trebuchet MS", Helvetica, sans-serif;
		font-size: 16px;

	}

	h6 {
		
		font-family: "Trebuchet MS", Helvetica, sans-serif;
		font-size: 12px;

	}
	span {

		font-family: "Trebuchet MS", Helvetica, sans-serif;
	}

	.concaveHull {
		cursor: pointer;
		box-shadow: inset 0px 0px 4px #000;
	}
	.hull {
	  fill: none;
	  stroke: steelblue;
	  stroke-width: 2px;
	  stroke-linejoin: round;
	}

	.line {
	  fill: none;
	  stroke: steelblue;
	  stroke-width: 1.5px;
	}

	.treeNode:hover {
		cursor: pointer;
	}

	/**********************multiple select****************************/
	.multiselect {
	    width:120px;
	    height:150px;
	    border:solid 1px #c0c0c0;
	    overflow:scroll;
	    font-family: "Trebuchet MS", Helvetica, sans-serif;
	    font-size: 12px;
	    text-align: left;
	    margin: auto;
	}
	 
	.multiselect label {
	    display:block;
	    height:13px; 
	    width:200px; 
	    margin: 2px;
	}
	 
	.multiselect-on {
	    /*color:#ffffff;*/
	}
	/**********************multiple select****************************/

	.legend {
		font-family: "Trebuchet MS", Helvetica, sans-serif;
		font-size: 16px;
	}

	.legend text {
		padding-top: 5px;
	}

	</style>

	<script type="text/javascript">


	/*************************************for user study only*****************************************/

	var enableContentlens = false;

	var targetCluster = null;
	var removeNodes = [];

	function leftOrRight(flag, delta){
		if(targetCluster == null)
			return;

		nodes = targetCluster.toList();

		nodes.forEach(function(node){

			node.cluster['hulls'] = node.cluster['hulls'].map(function(val,i){
				if(i%2!=0)
					return val;
				else
					return flag ? val - delta : val + delta;
			});
		});

		
		$('[ng-controller="app_controller"]').scope().masterUpdate();
	}

	function upOrDown(flag, delta){
		if(targetCluster == null)
			return;

		nodes = targetCluster.toList();

		nodes.forEach(function(node){

			node.cluster['hulls'] = node.cluster['hulls'].map(function(val,i){
				if(i%2==0)
					return val;
				else
					return flag ? val - delta : val + delta;
			});
		});

		$('[ng-controller="app_controller"]').scope().masterUpdate();
	}

	function enlargePoly(delta){

		if(targetCluster == null)
			return;

		// nodes = targetCluster.toList();
		nodes = [targetCluster];

		nodes.forEach(function(node){

			poly = enlargePolygon(HullLayout.odArrTo2dArr(node.cluster['hulls']), delta);
			node.cluster['hulls'] = HullLayout.tdArrTo1dArr(poly);
		});

		$('[ng-controller="app_controller"]').scope().masterUpdate();

	}

	function getImg(){

		if(!confirm("are you sure?"))
			return;
	 	userStudyController.getStudy2ImageWrapper();
	}
	function saveImg(){
		UserStudyController2.downloadImgWrapper();
	}


		/*************************************************************************************/
		$(function() {
			$("#dataEditContainer").draggable();
		});

		$(function() {
    		$( "#dataEditContainer" ).draggable({ cancel: "div.noSupportDrag" });
    	});

    	/***************************************************************************************/

	  	setTimeout(function(){ enable_his(); }, 1000);

		function enable_his() {
			var bounds = [ {x:profile.min_x, y:profile.min_y},{x:profile.max_x, y:profile.max_y}];
			$('[ng-controller="map_controller"]').scope().add_region_to_canvas(bounds);
			//$('[ng-controller="map_controller"]').scope().load_data(data.start_time, data.end_time, true);
			$('[ng-controller="map_controller"]').scope().updateGeoBbox();
		}

		function changemode(val){
			ContourVis.MODE = val;
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}

		function changeTension(val){
			if(parseInt(val) == 1)
				ContourVis.tension += 0.1;
			else
				ContourVis.tension -= 0.1;
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}

		function sortTree(val){
			if(parseInt(val) == 0)
				CTreeNode.SORT = CTreeNode.SORTMODE.VOLUME;
			else if(parseInt(val) == 1)
				CTreeNode.SORT = CTreeNode.SORTMODE.GEO;
			else if(parseInt(val) == 2)
				CTreeNode.SORT = CTreeNode.SORTMODE.STAT;

			DataCenter.instance().getTree().sortChildren();
			$('[ng-controller="app_controller"]').scope().masterUpdate();

		}

		function nodeSize(val){
			if(parseInt(val) == 0)
				VisComponent.SCALE = VisComponent.SCALEMODE.LOG;
			else if(parseInt(val) == 1)
				VisComponent.SCALE = VisComponent.SCALEMODE.LINEAR;
			else if(parseInt(val) == 2)
				VisComponent.SCALE = VisComponent.SCALEMODE.UNIFORM;
			else if(parseInt(val) == 3)
				VisComponent.SCALE = VisComponent.SCALEMODE.POLY;

			$('[ng-controller="app_controller"]').scope().masterUpdate();

		}

		function setNodeType(val){
			
			if(parseInt(val) == 0)
				$('[ng-controller="treeCanvasCtrl"]').scope().getCanvas(TreeCanvas.MODES.SCALETREE).NODE_TYPE = ScaleTreeCanvas.NODE_TYPE_MODE.RECT;
			else if(parseInt(val) == 1)
				$('[ng-controller="treeCanvasCtrl"]').scope().getCanvas(TreeCanvas.MODES.SCALETREE).NODE_TYPE = ScaleTreeCanvas.NODE_TYPE_MODE.CIRC;
			
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}

		function treeType(val){
			
			if(parseInt(val) == 0)
				$('[ng-controller="treeCanvasCtrl"]').scope().switchCanvas(TreeCanvas.MODES.SCALETREE);
			else if(parseInt(val) == 1)
				$('[ng-controller="treeCanvasCtrl"]').scope().switchCanvas(TreeCanvas.MODES.FDTREE);
			
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}

		function dendroType(val){
			
			if(parseInt(val) == 0)
				$('[ng-controller="treeCanvasCtrl"]').scope().getCanvas(TreeCanvas.MODES.SCALETREE).TREE_TYPE = ScaleTreeCanvas.TREE_TYPE_MODE.ICICLE;
			else if(parseInt(val) == 1)
				$('[ng-controller="treeCanvasCtrl"]').scope().getCanvas(TreeCanvas.MODES.SCALETREE).TREE_TYPE = ScaleTreeCanvas.TREE_TYPE_MODE.NODELINK;
			
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}


		function changeContourFill(val){
			if(parseInt(val) == 0)
				ContourVis.CONTOUR = ContourVis.CONTOURMODE.BOUND;
			else if(parseInt(val) == 1)
				ContourVis.CONTOUR = ContourVis.CONTOURMODE.FILLSINGLE;
			else if(parseInt(val) == 2)
				ContourVis.CONTOUR = ContourVis.CONTOURMODE.FILLSEQUENTIAL;
			else if(parseInt(val) == 3)
				ContourVis.CONTOUR = ContourVis.CONTOURMODE.DIVERGENT;
			else if(parseInt(val) == 4)
				ContourVis.CONTOUR = ContourVis.CONTOURMODE.QUANT;
			else if(parseInt(val) == 5)
				ContourVis.CONTOUR = ContourVis.CONTOURMODE.DENSITY;
			
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}


		function outlineType(val){
			if(parseInt(val) == 0)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.DEFAULT;
			else if(parseInt(val) == 1)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.STRIP;
			else if(parseInt(val) == 2)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.DASH;
			else if(parseInt(val) == 3)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.CIRCLE;
			else if(parseInt(val) == 4)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.STACKLINE;
			else if(parseInt(val) == 5)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.TEXT;
			else if(parseInt(val) == 6)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.TEXT_FILL;
			else if(parseInt(val) == 7)
				ContourVis.OUTLINE = ContourVis.OUTLINEMODE.TEXT_FILL_ALL;

			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}

		function printText(clusterId){

			var node = DataCenter.instance().getTree().getNodeById(clusterId);
			var tweets = DataCenter.instance().getTweetsByIds(node.cluster['ids']);
			var dist = DataCenter.instance().distOfCate(tweets);
			console.log(JSON.stringify(dist));
			tweets = tweets.map(function(t){ return t.text; });
			console.log(JSON.stringify(tweets));
		}

		function printClusterCateDist(){

			var list = DataCenter.instance().getTree().toList();

			var rst = [];
			var mapping = {};

			//var keys = ["T11","C07","E01","T02","O02","T09","T04","T03"];

			var keys = ["T02","T03","O02","T09","T04"];

			list.forEach(function(val){

				var tweets = DataCenter.instance().getTweetsByIds(val.cluster['ids']);
				tweets = tweets.filter(function(val){
					var k = Object.keys(val.cate);
					var inter = intersect_arrays(keys, k);
					if(inter.length > 0)
						return true;
					else
						return false;
				})
				var dist = DataCenter.instance().distOfCate(tweets);
				var tmp = [];
				var size = tweets.length;
				keys.forEach(function(key){
					if(dist.hasOwnProperty(key))
						tmp.push(dist[key]/size);
					else
						tmp.push(0);
				});

				//merge T02 and T03 into one entry
				tmp[1] = tmp[0] + tmp[1];
				tmp.shift();
				rst.push(tmp);
				mapping[rst.length-1] = val.cluster['clusterId'];
			});

			console.log(JSON.stringify(rst));
			console.log(JSON.stringify(mapping));

			rst.forEach(function(val, idx){
				rst[idx] = mapping[idx] + "," + val.join(',');
			});

			rst = 'label,variable1,variable2,variable3,variable4' + '\n' + rst.join('\n');

			var doc = document.createElement('a');
	 		doc.setAttribute('href', 'data:text/javascript;charset=utf-8,' + encodeURIComponent(rst));
	 		doc.setAttribute('download', 'features.csv');
	 		doc.click();
		}

		function showDataViewer(){

			$('[ng-controller="dataedit_controller"]').scope().showData();
			$('#dataEditContainer').show();
		}

		function turnHalo(val){

			var flag = parseInt(val) == 0 ? false : true;
			ContourVis.enableHalo = flag;
			$('[ng-controller="app_controller"]').scope().masterUpdate();

		}

		function changeSegment(ele){
			ContourVis.segmented = ele.checked;
			$('[ng-controller="app_controller"]').scope().masterUpdate();
		}

		function changeContentlensMode(ele){
			enableContentlens = ele.checked;
			$('[ng-controller="map_controller"]').scope().getMap().contentlensManager.clearFeatures();
		}



	</script>

</head>
<!-- onload="init()"  -->
	<body ng-app="twittNavApp" ng-controller="app_controller">

	<div id="ScaleTreeContainer" style="left:153px;top:15px;width:720px;height:550px;position:absolute;background-color: rgba(255, 255, 255, 1.0);overflow:hidden;z-index:99;border:2px solid #999;text-align:center;">
	
	<h5 align="center" style="cursor: pointer">Multi-Scale Cluster Tree</h5>

	<!--background-color: rgba(247, 251, 255, 0.6);-->
		<div style="width:700px;height:700px;margin: 0 auto;" class="noSupportDrag">
			<div id="treeCanvas" style="width:700px;height:500px;" ng-controller="treeCanvasCtrl"></div>
		</div>
	</div>

	<!--<div id="EM_Tree" style="left:50px;top:400px;width:700px;height:420px;position:absolute;background-color: rgba(247, 251, 255, 0.6);overflow:hidden;z-index:99999;border:2px solid #999;" ng-controller="EMTree_controller"></div>-->

	<div id="mapView" ng-controller="map_controller" style="left:880px;top:15px;height:1024px;width:1024px;position:absolute;z-index:999;border:2px solid #999;"></div>
	<!-- <div id="mapViewHelper" style="height:2048px;width:2048px;position:absolute;display:none;"></div> -->
	<!-- <div id="mapViewHelper" style="height:200%;width:200%;position:relative;z-index:99999;"></div> -->

	<div id="tmpPanel" style="display: none; position: absolute;left: 1800px;top: 15px;width: 100px; height: 300px; z-index: 99999">
		
			<div>
				<button onclick="upOrDown(true ,30)">&nbsp;&nbsp;up&nbsp;&nbsp;</button><br>
				<button onclick="leftOrRight(true, 30)">left&nbsp;&nbsp;&nbsp;</button>
				<button onclick="leftOrRight(false, 30)">right</button><br>
				<button onclick="upOrDown(false, 30)">&nbsp;&nbsp;down&nbsp;&nbsp;</button><br><br>
				<button onclick="enlargePoly(10)">&nbsp;&nbsp;enlarge&nbsp;&nbsp;</button><br><br>
				<button onclick="enlargePoly(-10)">&nbsp;&nbsp;decrease&nbsp;&nbsp;</button><br><br>
				<button onclick="getImg()">getImg</button>
				<button onclick="saveImg()">saveImg</button>
			</div>
			<br>
			<div>
				<button onclick="upOrDown(true, 3)">&nbsp;&nbsp;up&nbsp;&nbsp;</button><br>
				<button onclick="leftOrRight(true, 3)">left&nbsp;&nbsp;&nbsp;</button>
				<button onclick="leftOrRight(false, 3)">right</button><br>
				<button onclick="upOrDown(false, 3)">&nbsp;&nbsp;down&nbsp;&nbsp;</button><br><br>
			</div>

	</div>

	<div id="controlpanel" style="left:5px;top:15px;width:140px;height:550px;position:absolute;z-index:99999;border:2px solid #999;text-align:center;overflow-y:scroll;overflow-x:hidden;margin:0 auto;" ng-controller="cp_controller">
		<!-- onmouseover="$('#controlpanel').css('overflow-y', 'scroll');" onmouseout="$('#controlpanel').css('overflow-y', 'hidden');" -->
		<h4 align="center" style="cursor: pointer">Control Panel</h4>

<!-- 		<h5 align="center">Data Editing</h5>
			<div>
				<input type="radio" name="dataViewer" onclick="showDataViewer();" ><span>Open</span>
				<input type="radio" name="dataViewer" onclick="$('#dataEditContainer').hide();" checked><span>Close</span><br>
			</div> -->

		<div><h5><input type="checkbox" name="contentlensmode" onclick="changeContentlensMode(this)">Contenlens</h5></div>

		<h5 align="center">Tree Type</h5>
			<div>
				<input type="radio" name="treeType" onclick="treeType(0);" checked><span>dendrogram</span><br>
				<input type="radio" name="treeType" onclick="treeType(1);" ><span>nodelink</span><br>
			</div>

		<h5 align="center">Filter</h5>
			<div>
				<div id="slider-range"></div>
				<div id="rangeText" style="text-align:center" align="center"><h6>range:</h6></div>
			</div>

		<h5 align="center">Categories</h5>
			<div id="cateList" class="multiselect"></div>

		<h5 align="center">Outline Type</h5>
			<!-- <div><input type="checkbox" name="segmented" onclick="changeSegment(this)" checked>segmented</div><br> -->
			<div>
				<input type="radio" name="outlineType" onclick="outlineType(0);" checked><span>Default</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(1);"><span>Strip</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(2);"><span>Dash</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(3);"><span>Circle</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(4);"><span>Stack line</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(5);"><span>Text</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(6);"><span>Text &#38; Fill</span><br>
				<input type="radio" name="outlineType" onclick="outlineType(7);"><span>Text &#38; Fill All</span><br>
			</div>

		<h5 align="center">Dendrogram Type</h5>
			<div>
				<input type="radio" name="dendroType" onclick="dendroType(0);" ><span>icicle</span><br>
				<input type="radio" name="dendroType" onclick="dendroType(1);" checked><span>node-link</span><br>
			</div>
		
		<h5 align="center">Node Style</h5>
			<div>
				<input type="radio" name="nodeType" onclick="setNodeType(0);" checked><span>rect</span><br>
				<input type="radio" name="nodeType" onclick="setNodeType(1);" ><span>circle</span><br>
			</div>
		
		<h5 align="center">Node Size</h5>
			<div>
				<input type="radio" name="nodeSize" onclick="nodeSize(0);" ><span>log</span><br>
				<input type="radio" name="nodeSize" onclick="nodeSize(1);" checked><span>linear</span><br>
				<input type="radio" name="nodeSize" onclick="nodeSize(2);" ><span>uniform</span><br>
				<input type="radio" name="nodeSize" onclick="nodeSize(3);" ><span>poly</span>
			</div>

		<h5 align="center">Sort Tree</h5>
			<div>
				<input type="radio" name="sortTree" onclick="sortTree(0);" ><span>volume</span><br>
				<input type="radio" name="sortTree" onclick="sortTree(1);" checked><span>geolocation(lon)</span><br>
				<input type="radio" name="sortTree" onclick="sortTree(2);" ><span>stat score</span>
			</div>
		
		<h5 align="center">Contour Layout</h5>
			<div>
				<input type="radio" name="mode" onclick="changemode(0);" checked><span>basis</span>
				<input type="radio" name="mode" onclick="changemode(1);"><span>cardinal</span><br>
				<input type="radio" name="mode" onclick="changemode(2);"><span>linear</span><br>
				tension: <button onclick="changeTension(1)">+</button>
				<button onclick="changeTension(0)">-</button>
			</div>

		<h5 align="center">Contour Fill</h5>

			<div>
				<input type="radio" name="conVis" onclick="changeContourFill(0);" ><span>no fill</span><br>
				<input type="radio" name="conVis" onclick="changeContourFill(1);" ><span>single hue</span><br>
				<input type="radio" name="conVis" onclick="changeContourFill(2);" ><span>sequential</span><br>
				<input type="radio" name="conVis" onclick="changeContourFill(3);" checked><span>divergent</span><br>
				<input type="radio" name="conVis" onclick="changeContourFill(4);"><span>quantitative</span><br>
				<input type="radio" name="conVis" onclick="changeContourFill(5);"><span>density</span><br>
			</div>

		<h5 align="center">Contour Halo</h5>
			<div>
				<input type="radio" name="halo" onclick="turnHalo(0);" ><span>disable</span><br>
				<input type="radio" name="halo" onclick="turnHalo(1);" checked><span>enable</span><br>
			</div>

	</div>


	<div id="clusterSigContainer" style="left:5px;top:580px;width:430px;height:460px;position:absolute;background-color: rgba(255, 255, 255, 1.0);overflow:hidden;z-index:99;border:2px solid #999;text-align:center;" ng-controller="ClusterSignatureCtrl">
	
	<h5 align="center" style="cursor: pointer">Cluster Signature</h5>

		<div style="width:400px;height:450px;margin: 0 auto;" class="noSupportDrag">
			<div id="clusterSignature" style="width:400px;height:550px;overflow: scroll;" when-scrolled="loadMore()"><!--  -->
				<ul style="list-style-type: none; padding:0; margin:0;">
					<li ng-repeat="sig in clusterSignatures">
						<b>ID:</b> {{ sig.id }}
						<div>
							<img style="width:100px;height:150px;" src="img/placeholder.png">
						</div>
						<b>Area:</b> {{ sig.area }} <i> mi^2 </i>
						<br>
						<b>Volume:</b> {{ sig.volume }}
						<hr>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<div id="msgContainer" style="left:440px;top:580px;width:430px;height:460px;position:absolute;background-color: rgba(255, 255, 255, 1.0);overflow:hidden;z-index:99;border:2px solid #999;text-align:center;" ng-controller="table_controller">
	
	<h5 align="center" style="cursor: pointer">Message Table</h5>

		<div style="width:400px;height:450px;margin: 0 auto;" class="noSupportDrag">
			<div id="msgTable" style="width:400px;height:430px;overflow: scroll;"></div>
		</div>
		
	</div>

<!-- 	<div id="dataEditContainer" ng-controller="dataedit_controller" style="left:500px;top:100px;width:1000px;height:800px;position:absolute;background-color: rgba(255, 255, 255, 1.0);overflow:hidden;z-index:9999;border:2px solid #999;display: none;">
	
	<h5 align="center" style="cursor: pointer">Data Viewer</h5>
		<div id="dataEdit" style="width:900px;height:700px;overflow:scroll;margin: 0 auto; " class="noSupportDrag"></div>
	</div> -->

</body>
</html>